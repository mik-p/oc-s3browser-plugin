<div id=fileDetails>
    {% if s3_file_details.active %}
    <h4>File Details</h4>
    <table class="table table-sm table-hover">
        <tr>
            <th>Name</th>
            <td>
                {{s3_file_details.name}}
            </td>
            <td>
                <a class="btn btn-sm shadow-0" href="{{s3_file_details.api_download}}">
                    <i>download</i>
                </a>
            </td>
        </tr>
        <tr>
            <th>API Path</th>
            <td>
                <a id="copy-api-url" href="{{s3_file_details.api_get}}" target="_blank" rel="noopener noreferrer">
                    {{str_limit(s3_file_details.api_get, 50)}}
                </a>
            </td>
            <td>
                <button class="btn btn-sm shadow-0" onClick="copyAPIURL()">
                    <i>copy</i>
                </button>
            </td>
        </tr>
    </table>
    {% endif %}
</div>

<script>
    function copyAPIURL() {
        // create an input element
        var apiURL = document.body.appendChild(document.createElement("input"));
        apiURL.value = document.getElementById("copy-api-url").getAttribute("href");

        // set the window to get this element data
        apiURL.focus();
        apiURL.select();

        // copy
        document.execCommand('copy');

        // remove the input when done
        apiURL.parentNode.removeChild(apiURL);

        alert("Copied URL!");
    }
</script>
